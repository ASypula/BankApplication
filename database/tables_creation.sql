--------------------------------------------------------
--  File created - poniedzia≈Çek-stycznia-03-2022   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table ACCOUNT_TYPES
--------------------------------------------------------

  CREATE TABLE "Z08"."ACCOUNT_TYPES" 
   (	"ACCOUNT_TYPE_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(15 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table ADDRESSES
--------------------------------------------------------

  CREATE TABLE "Z08"."ADDRESSES" 
   (	"ADDRESS_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"STREET" VARCHAR2(30 BYTE), 
	"APARTMENT_NO" NUMBER(*,0), 
	"CITIES_CITY_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table BANK_ACCOUNTS
--------------------------------------------------------

  CREATE TABLE "Z08"."BANK_ACCOUNTS" 
   (	"BANK_ACCOUNT_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"ACCOUNT_NO" VARCHAR2(32 BYTE), 
	"ACCOUNT_TYPES_TYPE_ID" NUMBER(*,0), 
	"SERVICE_INFO_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table BANK_BRANCHES
--------------------------------------------------------

  CREATE TABLE "Z08"."BANK_BRANCHES" 
   (	"BANK_BRANCH_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"EMPLOYEES_NO" NUMBER(*,0), 
	"ADDRESSES_ADDRESS_ID" NUMBER(*,0), 
	"OPENING_HOURS_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table CARDS
--------------------------------------------------------

  CREATE TABLE "Z08"."CARDS" 
   (	"CARD_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"EXPIRATION_DATE" DATE, 
	"HASHED_CCV" CHAR(64 BYTE), 
	"HASHED_PIN" CHAR(64 BYTE), 
	"CARD_TYPES_TYPE_ID" NUMBER(*,0), 
	"BANK_ACCOUNTS_ACCOUNT_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table CARD_TYPES
--------------------------------------------------------

  CREATE TABLE "Z08"."CARD_TYPES" 
   (	"CARD_TYPE_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"TYPE_NAME" VARCHAR2(10 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table CITIES
--------------------------------------------------------

  CREATE TABLE "Z08"."CITIES" 
   (	"CITY_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"CITY_NAME" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table CLIENTS
--------------------------------------------------------

  CREATE TABLE "Z08"."CLIENTS" 
   (	"CLIENT_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PERSONAL_DATA_DATA_ID" NUMBER(*,0), 
	"EMPLOYEES_EMPLOYEE_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table CURRENCIES
--------------------------------------------------------

  CREATE TABLE "Z08"."CURRENCIES" 
   (	"CURRENCY_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(30 BYTE), 
	"ABBREVIATION" VARCHAR2(5 BYTE), 
	"EXCHANGE_RATE" NUMBER(12,4)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table EMPLOYEES
--------------------------------------------------------

  CREATE TABLE "Z08"."EMPLOYEES" 
   (	"EMPLOYEE_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"SALARY" NUMBER(12,4), 
	"PROFESSIONS_PROFESSION_ID" NUMBER(*,0), 
	"PERSONAL_DATA_DATA_ID" NUMBER(*,0), 
	"BRANCH_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table LOANS
--------------------------------------------------------

  CREATE TABLE "Z08"."LOANS" 
   (	"LOAN_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"END_DATE" DATE, 
	"INSTALLMENT" NUMBER(19,4), 
	"INITIAL_VALUE" NUMBER(19,4), 
	"SERVICE_INFO_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table OPENING_HOURS
--------------------------------------------------------

  CREATE TABLE "Z08"."OPENING_HOURS" 
   (	"OPENING_HOURS_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"MON_HOURS" VARCHAR2(5 BYTE), 
	"TUE_HOURS" VARCHAR2(5 BYTE), 
	"WED_HOURS" VARCHAR2(5 BYTE), 
	"THU_HOURS" VARCHAR2(5 BYTE), 
	"FRI_HOURS" VARCHAR2(5 BYTE), 
	"SAT_HOURS" VARCHAR2(5 BYTE), 
	"SUN_HOURS" VARCHAR2(5 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table PAYMENT_HISTORY
--------------------------------------------------------

  CREATE TABLE "Z08"."PAYMENT_HISTORY" 
   (	"PAYMENT_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"AMOUNT" NUMBER(19,4), 
	"PAYMENT_DATE" DATE, 
	"LOAN_ID" NUMBER(*,0)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table PERSONAL_DATA
--------------------------------------------------------

  CREATE TABLE "Z08"."PERSONAL_DATA" 
   (	"PERSONAL_DATA_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(30 BYTE), 
	"SURNAME" VARCHAR2(30 BYTE), 
	"PESEL" VARCHAR2(11 BYTE), 
	"PHONE_NO" VARCHAR2(9 BYTE), 
	"HASHED_PSWD" VARCHAR2(64 BYTE), 
	"ADDRESSES_ADDRESS_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table PROFESSIONS
--------------------------------------------------------

  CREATE TABLE "Z08"."PROFESSIONS" 
   (	"PROFESSION_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(30 BYTE), 
	"MIN_SALARY" NUMBER(12,4), 
	"MAX_SALARY" NUMBER(12,4)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table SERVICES_INFO
--------------------------------------------------------

  CREATE TABLE "Z08"."SERVICES_INFO" 
   (	"SERVICE_INFO_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"BALANCE" NUMBER(22,4), 
	"START_DATE" DATE DEFAULT CURRENT_DATE, 
	"ACCUM_PERIOD" NUMBER(14,2), 
	"INTEREST" NUMBER(*,2), 
	"CLIENT_ID" NUMBER(*,2), 
	"CURRENCY_ID" NUMBER(*,0) DEFAULT 1
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table TRANSACTION_HISTORY
--------------------------------------------------------

  CREATE TABLE "Z08"."TRANSACTION_HISTORY" 
   (	"TRANSACTION_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"AMOUNT" NUMBER(19,4), 
	"Date" DATE, 
	"BANK_ACCOUNT_ID" NUMBER(*,0), 
	"TRANSACTION_TYPE_TYPE_ID" NUMBER(*,0), 
	"TARGET_ACC_NO" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Table TRANSACTION_TYPE
--------------------------------------------------------

  CREATE TABLE "Z08"."TRANSACTION_TYPE" 
   (	"TRANSACTION_TYPE_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"TYPE_NAME" VARCHAR2(15 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 ROW STORE COMPRESS ADVANCED LOGGING
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for View V_ADDRESSES
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "Z08"."V_ADDRESSES" ("ADDRESS_ID", "STREET", "APARTMENT_NO", "CITY_NAME") AS 
  SELECT a.address_id, a.street, a.apartment_no, c.city_name
FROM addresses a INNER JOIN cities c ON a.CITIES_CITY_ID = c.CITY_ID
;
--------------------------------------------------------
--  DDL for View V_ASSISTANTS_CLIENTS
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "Z08"."V_ASSISTANTS_CLIENTS" ("EMPLOYEE_ID", "CLIENT_ID") AS 
  SELECT e.employee_id, count(c.client_id) 
FROM employees e LEFT OUTER JOIN clients c ON c.employees_employee_id = e.employee_id
WHERE e.professions_profession_id = 
    (SELECT PROFESSION_ID FROM PROFESSIONS WHERE NAME = 'assistant')
GROUP BY e.employee_id
ORDER BY count(c.client_id)
;
--------------------------------------------------------
--  DDL for View V_BANK_ACCOUNTS
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "Z08"."V_BANK_ACCOUNTS" ("BANK_ACCOUNT_ID", "ACCOUNT_NO", "ACCOUNT_TYPES_TYPE_ID", "BALANCE", "START_DATE", "ACCUM_PERIOD", "INTEREST", "CLIENT_ID", "NAME") AS 
  SELECT b.bank_account_id, b.account_no, b.account_types_type_id, s.balance, s.start_date, s.accum_period, s.interest, s.client_id, t.name
FROM bank_accounts b INNER JOIN SERVICES_INFO s USING(service_info_id) INNER JOIN Account_types t ON t.account_type_id = b.account_types_type_id
;
--------------------------------------------------------
--  DDL for View V_LOANS
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "Z08"."V_LOANS" ("LOAN_ID", "INITIAL_VALUE", "BALANCE", "INSTALLMENT", "START_DATE", "END_DATE", "ACCUM_PERIOD", "INTEREST", "CLIENT_ID") AS 
  SELECT l.loan_id, l.initial_value, s.balance, l.installment, s.start_date, l.end_date, s.accum_period, s.interest, s.client_id
FROM loans l INNER JOIN SERVICES_INFO s USING(service_info_id)
;
--------------------------------------------------------
--  DDL for View V_NEEDS_WORK
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "Z08"."V_NEEDS_WORK" ("EMPLOYEE_ID") AS 
  SELECT employee_id FROM v_assistants_clients WHERE rownum = 1
;
REM INSERTING into Z08.ACCOUNT_TYPES
SET DEFINE OFF;
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('1','personal');
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('2','savings');
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('3','company');
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('4','recur_deposit');
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('5','fixed_deposit');
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('6','salary');
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('7','student');
Insert into Z08.ACCOUNT_TYPES (ACCOUNT_TYPE_ID,NAME) values ('8','senior');
REM INSERTING into Z08.ADDRESSES
SET DEFINE OFF;
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('1','Marszalkowska','24','1');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('2','Prosta','4','1');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('3','Koszykowa','18','1');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('4','Okopowa','28','3');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('5','Jasna','273','3');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('6','Jasna','283','3');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('7','Majowa','2','2');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('8','Kwiatowa','3','2');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('9','Chmielna','73','4');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('10','Zelazna','31','5');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('11','Szczesliwa','27','3');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('12','Prosta','5','1');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('13','Prosta','6','1');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('14','Zwirowa','46','1');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('15','Polna','77','1');
Insert into Z08.ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITIES_CITY_ID) values ('16','Brukowa','68','2');
REM INSERTING into Z08.BANK_ACCOUNTS
SET DEFINE OFF;
Insert into Z08.BANK_ACCOUNTS (BANK_ACCOUNT_ID,ACCOUNT_NO,ACCOUNT_TYPES_TYPE_ID,SERVICE_INFO_ID) values ('1','1987566443546','6','1');
Insert into Z08.BANK_ACCOUNTS (BANK_ACCOUNT_ID,ACCOUNT_NO,ACCOUNT_TYPES_TYPE_ID,SERVICE_INFO_ID) values ('2','2234345678','2','2');
Insert into Z08.BANK_ACCOUNTS (BANK_ACCOUNT_ID,ACCOUNT_NO,ACCOUNT_TYPES_TYPE_ID,SERVICE_INFO_ID) values ('3','175346','1','3');
REM INSERTING into Z08.BANK_BRANCHES
SET DEFINE OFF;
Insert into Z08.BANK_BRANCHES (BANK_BRANCH_ID,EMPLOYEES_NO,ADDRESSES_ADDRESS_ID,OPENING_HOURS_ID) values ('1','3','1','2');
Insert into Z08.BANK_BRANCHES (BANK_BRANCH_ID,EMPLOYEES_NO,ADDRESSES_ADDRESS_ID,OPENING_HOURS_ID) values ('2','1','2','1');
Insert into Z08.BANK_BRANCHES (BANK_BRANCH_ID,EMPLOYEES_NO,ADDRESSES_ADDRESS_ID,OPENING_HOURS_ID) values ('3','1','3','3');
REM INSERTING into Z08.CARDS
SET DEFINE OFF;
Insert into Z08.CARDS (CARD_ID,EXPIRATION_DATE,HASHED_CCV,HASHED_PIN,CARD_TYPES_TYPE_ID,BANK_ACCOUNTS_ACCOUNT_ID) values ('1',to_date('23/06/06','RR/MM/DD'),'346B0175396A524C297A26E3440ADE5F044906C4B333AD24BE02F0409B5BFAC5','FBE41D76336ADE5317E4D3CA3BE2CDF8C00668CD28B609835AB5A17DED7FB62B','1','1');
Insert into Z08.CARDS (CARD_ID,EXPIRATION_DATE,HASHED_CCV,HASHED_PIN,CARD_TYPES_TYPE_ID,BANK_ACCOUNTS_ACCOUNT_ID) values ('2',to_date('23/01/01','RR/MM/DD'),'346B0175396A524C297A26E3440ADE5F044906C4B333AD24BE02F0409B5BFAC5','FBE41D76336ADE5317E4D3CA3BE2CDF8C00668CD28B609835AB5A17DED7FB62B','2','1');
Insert into Z08.CARDS (CARD_ID,EXPIRATION_DATE,HASHED_CCV,HASHED_PIN,CARD_TYPES_TYPE_ID,BANK_ACCOUNTS_ACCOUNT_ID) values ('3',to_date('23/12/11','RR/MM/DD'),'346B0175396A524C297A26E3440ADE5F044906C4B333AD24BE02F0409B5BFAC5','FBE41D76336ADE5317E4D3CA3BE2CDF8C00668CD28B609835AB5A17DED7FB62B','2','3');
REM INSERTING into Z08.CARD_TYPES
SET DEFINE OFF;
Insert into Z08.CARD_TYPES (CARD_TYPE_ID,TYPE_NAME) values ('1','credit');
Insert into Z08.CARD_TYPES (CARD_TYPE_ID,TYPE_NAME) values ('2','debit');
Insert into Z08.CARD_TYPES (CARD_TYPE_ID,TYPE_NAME) values ('3','savings');
Insert into Z08.CARD_TYPES (CARD_TYPE_ID,TYPE_NAME) values ('4','student');
REM INSERTING into Z08.CITIES
SET DEFINE OFF;
Insert into Z08.CITIES (CITY_ID,CITY_NAME) values ('1','Warsaw');
Insert into Z08.CITIES (CITY_ID,CITY_NAME) values ('2','Lodz');
Insert into Z08.CITIES (CITY_ID,CITY_NAME) values ('3','Gdansk');
Insert into Z08.CITIES (CITY_ID,CITY_NAME) values ('4','Wroclaw');
Insert into Z08.CITIES (CITY_ID,CITY_NAME) values ('5','Krakow');
REM INSERTING into Z08.CLIENTS
SET DEFINE OFF;
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('1','1','1');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('2','3','2');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('3','4','1');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('4','5','1');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('5','7','2');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('6','8','1');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('7','12','1');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('8','13','1');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('9','14','3');
Insert into Z08.CLIENTS (CLIENT_ID,PERSONAL_DATA_DATA_ID,EMPLOYEES_EMPLOYEE_ID) values ('11','15','3');
REM INSERTING into Z08.CURRENCIES
SET DEFINE OFF;
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('1','Polish Zloty','ZL','1');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('2','U.S. Dollar','USD','4,0349');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('3','Euro','EUR','4,5886');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('4','Swiss Franc','CHF','5,4241');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('5','British Pound Sterling','GBP','5,4598');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('6','Czech Koruna','CZK','0,1844');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('7','Russian Rouble','RUB','0,0539');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('8','Turkish Lira','TRY','0,3032');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('9','Chinese Yuan','CNY','0,6538');
Insert into Z08.CURRENCIES (CURRENCY_ID,NAME,ABBREVIATION,EXCHANGE_RATE) values ('10','Swedish Krona','SEK','0,4459');
REM INSERTING into Z08.EMPLOYEES
SET DEFINE OFF;
Insert into Z08.EMPLOYEES (EMPLOYEE_ID,SALARY,PROFESSIONS_PROFESSION_ID,PERSONAL_DATA_DATA_ID,BRANCH_ID) values ('1','4500','4','2','1');
Insert into Z08.EMPLOYEES (EMPLOYEE_ID,SALARY,PROFESSIONS_PROFESSION_ID,PERSONAL_DATA_DATA_ID,BRANCH_ID) values ('2','5700','4','6','3');
Insert into Z08.EMPLOYEES (EMPLOYEE_ID,SALARY,PROFESSIONS_PROFESSION_ID,PERSONAL_DATA_DATA_ID,BRANCH_ID) values ('3','6000','4','9','2');
Insert into Z08.EMPLOYEES (EMPLOYEE_ID,SALARY,PROFESSIONS_PROFESSION_ID,PERSONAL_DATA_DATA_ID,BRANCH_ID) values ('4','8000','6','10','1');
Insert into Z08.EMPLOYEES (EMPLOYEE_ID,SALARY,PROFESSIONS_PROFESSION_ID,PERSONAL_DATA_DATA_ID,BRANCH_ID) values ('6','2000','5','11','1');
REM INSERTING into Z08.LOANS
SET DEFINE OFF;
Insert into Z08.LOANS (LOAN_ID,END_DATE,INSTALLMENT,INITIAL_VALUE,SERVICE_INFO_ID) values ('1',to_date('23/01/01','RR/MM/DD'),'1000','100000','4');
Insert into Z08.LOANS (LOAN_ID,END_DATE,INSTALLMENT,INITIAL_VALUE,SERVICE_INFO_ID) values ('2',to_date('22/10/20','RR/MM/DD'),'500','50000','5');
Insert into Z08.LOANS (LOAN_ID,END_DATE,INSTALLMENT,INITIAL_VALUE,SERVICE_INFO_ID) values ('3',to_date('23/01/01','RR/MM/DD'),'500','50000','6');
REM INSERTING into Z08.OPENING_HOURS
SET DEFINE OFF;
Insert into Z08.OPENING_HOURS (OPENING_HOURS_ID,MON_HOURS,TUE_HOURS,WED_HOURS,THU_HOURS,FRI_HOURS,SAT_HOURS,SUN_HOURS) values ('1','08-20','08-20','08-20','08-20','08-20',null,null);
Insert into Z08.OPENING_HOURS (OPENING_HOURS_ID,MON_HOURS,TUE_HOURS,WED_HOURS,THU_HOURS,FRI_HOURS,SAT_HOURS,SUN_HOURS) values ('2','08-22','08-22','08-22','08-20','09-12',null,null);
Insert into Z08.OPENING_HOURS (OPENING_HOURS_ID,MON_HOURS,TUE_HOURS,WED_HOURS,THU_HOURS,FRI_HOURS,SAT_HOURS,SUN_HOURS) values ('3','08-20','08-22',null,'08-20','09-12','10-12','10-12');
REM INSERTING into Z08.PAYMENT_HISTORY
SET DEFINE OFF;
REM INSERTING into Z08.PERSONAL_DATA
SET DEFINE OFF;
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('1','Beata','Jablonska','46548379354','486756114','5CBF37CCB03F3A192EE7EA3F55353866746AB65A281295F41D4E9379F390F270','2');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('2','Bartosz','Nowak','05148377354','487756971','DADBD200D3021300380DE13DD34FF87D91CB5C233C22DAFBFCB04D1E0157D4D8','2');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('3','Anna','Kowalska','00148671354','223756877','13A1727A9E39B1549BB87B9469931DD07F57062134FA9201FEDD55E5A766E6D5','3');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('4','Celina','Makowska','70345671354','175756877','11CA19C23D8301CD99A008579743C357891BC384B6C50AD398446477EFC54FBB','6');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('5','Darek','Malinowski','70345678897','225346877','EAC18F0F48DBC2D1C8E2F0B0E85C7BA3D13FE04AB4275DA3D5B53E75EF1A818E','5');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('6','Daria','Malinowska','70145623297','708346247','05B408EAC3E5805AC682FCB0330C8C6A562798B21CFC85DE8FE7C7AB64BC7B99','5');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('7','Ewelina','Kasprzak','24335623497','900346247','D35D4613E3C6537F1396E3DBCAF1257B68431F5BC29AEE69E7A339EA7D28D32D','1');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('8','Eryk','Konieczny','70115623465','717566247','F88964E7B0033559D6029B6070F0FF6B78914AE9A7E1F12701FB934E4FC45DC1','7');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('9','Beata','Kowalska','00148671355','223756877','5CBF37CCB03F3A192EE7EA3F55353866746AB65A281295F41D4E9379F390F270','3');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('10','Celina','Kowalska','00148671356','223756878','11CA19C23D8301CD99A008579743C357891BC384B6C50AD398446477EFC54FBB','3');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('11','Bartosz','Kowalski','00148671357','223756879','DADBD200D3021300380DE13DD34FF87D91CB5C233C22DAFBFCB04D1E0157D4D8','3');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('13','Darek','Kowalski','00148671358','223756880','EAC18F0F48DBC2D1C8E2F0B0E85C7BA3D13FE04AB4275DA3D5B53E75EF1A818E','3');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('12','Ewelina','Kowalska','00148671359','223756881','D35D4613E3C6537F1396E3DBCAF1257B68431F5BC29AEE69E7A339EA7D28D32D','3');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('14','Eryk','Kowalski','00148671360','223756881','F88964E7B0033559D6029B6070F0FF6B78914AE9A7E1F12701FB934E4FC45DC1','3');
Insert into Z08.PERSONAL_DATA (PERSONAL_DATA_ID,NAME,SURNAME,PESEL,PHONE_NO,HASHED_PSWD,ADDRESSES_ADDRESS_ID) values ('15','Justyna','Kowalska','00148671361','223756882','E6AC9DB87119AB80D59AE84AF5D9AF4BEE496DC6CCA37E661FA147493804E8DF','3');
REM INSERTING into Z08.PROFESSIONS
SET DEFINE OFF;
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('1','clerk','3000','9000');
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('2','accountant','2000','7000');
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('3','programmer','10000','20000');
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('4','assistant','3200','7200');
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('5','cleaner','1500','3000');
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('6','banker','5500','9000');
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('7','analyst','7500','12000');
Insert into Z08.PROFESSIONS (PROFESSION_ID,NAME,MIN_SALARY,MAX_SALARY) values ('8','manager','15000','30000');
REM INSERTING into Z08.SERVICES_INFO
SET DEFINE OFF;
Insert into Z08.SERVICES_INFO (SERVICE_INFO_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,CURRENCY_ID) values ('1','22131',to_date('20/01/21','RR/MM/DD'),'20','2','1','1');
Insert into Z08.SERVICES_INFO (SERVICE_INFO_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,CURRENCY_ID) values ('2','15600',to_date('20/06/21','RR/MM/DD'),'15','3','2','1');
Insert into Z08.SERVICES_INFO (SERVICE_INFO_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,CURRENCY_ID) values ('3','8624',to_date('20/06/20','RR/MM/DD'),'14','1','1','1');
Insert into Z08.SERVICES_INFO (SERVICE_INFO_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,CURRENCY_ID) values ('4','10000',to_date('22/01/01','RR/MM/DD'),'3','5','8','1');
Insert into Z08.SERVICES_INFO (SERVICE_INFO_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,CURRENCY_ID) values ('5','20000',to_date('22/01/01','RR/MM/DD'),'4','5','9','1');
Insert into Z08.SERVICES_INFO (SERVICE_INFO_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,CURRENCY_ID) values ('6','3300',to_date('22/01/01','RR/MM/DD'),'6','1','11','1');
REM INSERTING into Z08.TRANSACTION_HISTORY
SET DEFINE OFF;
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('1','20',to_date('21/06/06','RR/MM/DD'),'1','2',null);
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('2','200',to_date('21/06/07','RR/MM/DD'),'1','2',null);
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('3','50',to_date('21/06/07','RR/MM/DD'),'1','1',null);
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('4','64',to_date('21/06/09','RR/MM/DD'),'1','2',null);
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('5','670',to_date('21/06/16','RR/MM/DD'),'1','2',null);
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('13','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('8','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('7','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('10','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('9','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('12','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('11','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('14','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('16','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('15','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('18','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('17','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('20','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('19','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('21','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('22','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('23','200',to_date('22/01/01','RR/MM/DD'),'2','3','1');
Insert into Z08.TRANSACTION_HISTORY (TRANSACTION_ID,AMOUNT,"Date",BANK_ACCOUNT_ID,TRANSACTION_TYPE_TYPE_ID,TARGET_ACC_NO) values ('24','200',to_date('22/01/01','RR/MM/DD'),'1','4','2');
REM INSERTING into Z08.TRANSACTION_TYPE
SET DEFINE OFF;
Insert into Z08.TRANSACTION_TYPE (TRANSACTION_TYPE_ID,TYPE_NAME) values ('1','withdrawal');
Insert into Z08.TRANSACTION_TYPE (TRANSACTION_TYPE_ID,TYPE_NAME) values ('2','payment');
Insert into Z08.TRANSACTION_TYPE (TRANSACTION_TYPE_ID,TYPE_NAME) values ('3','transfer_in');
Insert into Z08.TRANSACTION_TYPE (TRANSACTION_TYPE_ID,TYPE_NAME) values ('4','transfer_out');
REM INSERTING into Z08.V_ADDRESSES
SET DEFINE OFF;
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('1','Marszalkowska','24','Warsaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('2','Prosta','4','Warsaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('3','Koszykowa','18','Warsaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('4','Okopowa','28','Gdansk');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('5','Jasna','273','Gdansk');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('6','Jasna','283','Gdansk');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('7','Majowa','2','Lodz');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('8','Kwiatowa','3','Lodz');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('9','Chmielna','73','Wroclaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('10','Zelazna','31','Krakow');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('11','Szczesliwa','27','Gdansk');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('12','Prosta','5','Warsaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('13','Prosta','6','Warsaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('14','Zwirowa','46','Warsaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('15','Polna','77','Warsaw');
Insert into Z08.V_ADDRESSES (ADDRESS_ID,STREET,APARTMENT_NO,CITY_NAME) values ('16','Brukowa','68','Lodz');
REM INSERTING into Z08.V_ASSISTANTS_CLIENTS
SET DEFINE OFF;
Insert into Z08.V_ASSISTANTS_CLIENTS (EMPLOYEE_ID,CLIENT_ID) values ('2','2');
Insert into Z08.V_ASSISTANTS_CLIENTS (EMPLOYEE_ID,CLIENT_ID) values ('3','2');
Insert into Z08.V_ASSISTANTS_CLIENTS (EMPLOYEE_ID,CLIENT_ID) values ('1','6');
REM INSERTING into Z08.V_BANK_ACCOUNTS
SET DEFINE OFF;
Insert into Z08.V_BANK_ACCOUNTS (BANK_ACCOUNT_ID,ACCOUNT_NO,ACCOUNT_TYPES_TYPE_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,NAME) values ('3','175346','1','8624',to_date('20/06/20','RR/MM/DD'),'14','1','1','personal');
Insert into Z08.V_BANK_ACCOUNTS (BANK_ACCOUNT_ID,ACCOUNT_NO,ACCOUNT_TYPES_TYPE_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,NAME) values ('2','2234345678','2','15600',to_date('20/06/21','RR/MM/DD'),'15','3','2','savings');
Insert into Z08.V_BANK_ACCOUNTS (BANK_ACCOUNT_ID,ACCOUNT_NO,ACCOUNT_TYPES_TYPE_ID,BALANCE,START_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID,NAME) values ('1','1987566443546','6','22131',to_date('20/01/21','RR/MM/DD'),'20','2','1','salary');
REM INSERTING into Z08.V_LOANS
SET DEFINE OFF;
Insert into Z08.V_LOANS (LOAN_ID,INITIAL_VALUE,BALANCE,INSTALLMENT,START_DATE,END_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID) values ('1','100000','10000','1000',to_date('22/01/01','RR/MM/DD'),to_date('23/01/01','RR/MM/DD'),'3','5','8');
Insert into Z08.V_LOANS (LOAN_ID,INITIAL_VALUE,BALANCE,INSTALLMENT,START_DATE,END_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID) values ('2','50000','20000','500',to_date('22/01/01','RR/MM/DD'),to_date('22/10/20','RR/MM/DD'),'4','5','9');
Insert into Z08.V_LOANS (LOAN_ID,INITIAL_VALUE,BALANCE,INSTALLMENT,START_DATE,END_DATE,ACCUM_PERIOD,INTEREST,CLIENT_ID) values ('3','50000','3300','500',to_date('22/01/01','RR/MM/DD'),to_date('23/01/01','RR/MM/DD'),'6','1','11');
REM INSERTING into Z08.V_NEEDS_WORK
SET DEFINE OFF;
Insert into Z08.V_NEEDS_WORK (EMPLOYEE_ID) values ('2');
--------------------------------------------------------
--  DDL for Index ACCOUNT_TYPES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."ACCOUNT_TYPES_PK" ON "Z08"."ACCOUNT_TYPES" ("ACCOUNT_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index ADDRESSES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."ADDRESSES_PK" ON "Z08"."ADDRESSES" ("ADDRESS_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_ACCOUNTS_IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_ACCOUNTS_IDX" ON "Z08"."BANK_ACCOUNTS" ("SERVICE_INFO_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_ACCOUNTS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_ACCOUNTS_PK" ON "Z08"."BANK_ACCOUNTS" ("BANK_ACCOUNT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_BRANCHES__IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_BRANCHES__IDX" ON "Z08"."BANK_BRANCHES" ("ADDRESSES_ADDRESS_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_BRANCHES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_BRANCHES_PK" ON "Z08"."BANK_BRANCHES" ("BANK_BRANCH_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CARDS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CARDS_PK" ON "Z08"."CARDS" ("CARD_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CARD_TYPES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CARD_TYPES_PK" ON "Z08"."CARD_TYPES" ("CARD_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CITIES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CITIES_PK" ON "Z08"."CITIES" ("CITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CLIENTS__IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CLIENTS__IDX" ON "Z08"."CLIENTS" ("PERSONAL_DATA_DATA_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CLIENTS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CLIENTS_PK" ON "Z08"."CLIENTS" ("CLIENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CURRENCIES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CURRENCIES_PK" ON "Z08"."CURRENCIES" ("CURRENCY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index EMPLOYEES__IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."EMPLOYEES__IDX" ON "Z08"."EMPLOYEES" ("PERSONAL_DATA_DATA_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index EMPLOYEES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."EMPLOYEES_PK" ON "Z08"."EMPLOYEES" ("EMPLOYEE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index LOANS_IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."LOANS_IDX" ON "Z08"."LOANS" ("SERVICE_INFO_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index LOANS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."LOANS_PK" ON "Z08"."LOANS" ("LOAN_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index OPENING_HOURS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."OPENING_HOURS_PK" ON "Z08"."OPENING_HOURS" ("OPENING_HOURS_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index PAYMENT_HISTORY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."PAYMENT_HISTORY_PK" ON "Z08"."PAYMENT_HISTORY" ("PAYMENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index PERSONAL_DATA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."PERSONAL_DATA_PK" ON "Z08"."PERSONAL_DATA" ("PERSONAL_DATA_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index PROFESSIONS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."PROFESSIONS_PK" ON "Z08"."PROFESSIONS" ("PROFESSION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index SERVICES_INFO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."SERVICES_INFO_PK" ON "Z08"."SERVICES_INFO" ("SERVICE_INFO_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index TRANSACTION_HISTORY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."TRANSACTION_HISTORY_PK" ON "Z08"."TRANSACTION_HISTORY" ("TRANSACTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index TRANSACTION_TYPE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."TRANSACTION_TYPE_PK" ON "Z08"."TRANSACTION_TYPE" ("TRANSACTION_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index ACCOUNT_TYPES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."ACCOUNT_TYPES_PK" ON "Z08"."ACCOUNT_TYPES" ("ACCOUNT_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index ADDRESSES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."ADDRESSES_PK" ON "Z08"."ADDRESSES" ("ADDRESS_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_ACCOUNTS_IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_ACCOUNTS_IDX" ON "Z08"."BANK_ACCOUNTS" ("SERVICE_INFO_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_ACCOUNTS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_ACCOUNTS_PK" ON "Z08"."BANK_ACCOUNTS" ("BANK_ACCOUNT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_BRANCHES__IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_BRANCHES__IDX" ON "Z08"."BANK_BRANCHES" ("ADDRESSES_ADDRESS_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index BANK_BRANCHES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."BANK_BRANCHES_PK" ON "Z08"."BANK_BRANCHES" ("BANK_BRANCH_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CARDS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CARDS_PK" ON "Z08"."CARDS" ("CARD_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CARD_TYPES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CARD_TYPES_PK" ON "Z08"."CARD_TYPES" ("CARD_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CITIES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CITIES_PK" ON "Z08"."CITIES" ("CITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CLIENTS__IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CLIENTS__IDX" ON "Z08"."CLIENTS" ("PERSONAL_DATA_DATA_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CLIENTS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CLIENTS_PK" ON "Z08"."CLIENTS" ("CLIENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index CURRENCIES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."CURRENCIES_PK" ON "Z08"."CURRENCIES" ("CURRENCY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index EMPLOYEES__IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."EMPLOYEES__IDX" ON "Z08"."EMPLOYEES" ("PERSONAL_DATA_DATA_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index EMPLOYEES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."EMPLOYEES_PK" ON "Z08"."EMPLOYEES" ("EMPLOYEE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index LOANS_IDX
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."LOANS_IDX" ON "Z08"."LOANS" ("SERVICE_INFO_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index LOANS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."LOANS_PK" ON "Z08"."LOANS" ("LOAN_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index OPENING_HOURS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."OPENING_HOURS_PK" ON "Z08"."OPENING_HOURS" ("OPENING_HOURS_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index PAYMENT_HISTORY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."PAYMENT_HISTORY_PK" ON "Z08"."PAYMENT_HISTORY" ("PAYMENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index PERSONAL_DATA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."PERSONAL_DATA_PK" ON "Z08"."PERSONAL_DATA" ("PERSONAL_DATA_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index PROFESSIONS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."PROFESSIONS_PK" ON "Z08"."PROFESSIONS" ("PROFESSION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index SERVICES_INFO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."SERVICES_INFO_PK" ON "Z08"."SERVICES_INFO" ("SERVICE_INFO_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index TRANSACTION_HISTORY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."TRANSACTION_HISTORY_PK" ON "Z08"."TRANSACTION_HISTORY" ("TRANSACTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Index TRANSACTION_TYPE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "Z08"."TRANSACTION_TYPE_PK" ON "Z08"."TRANSACTION_TYPE" ("TRANSACTION_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA" ;
--------------------------------------------------------
--  DDL for Trigger T_CHECK_SALARY
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_CHECK_SALARY" 
BEFORE INSERT OR UPDATE OF SALARY ON EMPLOYEES 
FOR EACH ROW
DECLARE 
    v_min_sal professions.min_salary%TYPE;
    v_max_sal professions.max_salary%TYPE;
BEGIN 
    SELECT min_salary, max_salary INTO v_min_sal, v_max_sal
    FROM professions WHERE profession_id = :new.professions_profession_id;

    IF :new.salary NOT BETWEEN v_min_sal AND v_max_sal THEN
        dbms_output.put_line('Zarobki pracownika spoza zakresu p≈Çac: ' || v_min_sal || ' ' || v_max_sal);
        raise_application_error(-20001, 'Przekroczony zakres p≈Çac');
    END IF;
END;
/
ALTER TRIGGER "Z08"."T_CHECK_SALARY" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_DEF_LOAN_END_DATE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_DEF_LOAN_END_DATE" 
BEFORE INSERT OR UPDATE OF END_DATE ON LOANS
FOR EACH ROW
DECLARE
    v_date DATE;
BEGIN
    SELECT add_months(CURRENT_DATE,12)INTO v_date 
    FROM dual;

    IF :new.end_date IS NULL THEN
        :new.end_date := v_date;
    ELSIF :new.end_date < CURRENT_DATE THEN 
        :new.end_date := v_date;
    END IF;
END;

/
ALTER TRIGGER "Z08"."T_DEF_LOAN_END_DATE" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_EMPLOYEES_NO_D
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_EMPLOYEES_NO_D" 
AFTER DELETE ON EMPLOYEES
FOR EACH ROW
BEGIN 
    UPDATE bank_branches 
    SET employees_no = employees_no + 1
    WHERE bank_branch_id = :old.branch_id;
END;
/
ALTER TRIGGER "Z08"."T_EMPLOYEES_NO_D" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_EMPLOYEES_NO_I
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_EMPLOYEES_NO_I" 
AFTER INSERT ON EMPLOYEES
FOR EACH ROW
BEGIN 
    UPDATE bank_branches 
    SET employees_no = employees_no + 1
    WHERE bank_branch_id = :new.branch_id;
END;
/
ALTER TRIGGER "Z08"."T_EMPLOYEES_NO_I" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_NEW_CLIENT_ASSISTANT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_NEW_CLIENT_ASSISTANT" 
BEFORE INSERT ON CLIENTS
FOR EACH ROW
DECLARE 
    v_assistant CLIENTS.EMPLOYEES_EMPLOYEE_ID%TYPE;
    v_profession PROFESSIONS.NAME%TYPE;
BEGIN
    SELECT employee_id INTO v_assistant 
    FROM v_needs_work;
    SELECT name INTO v_profession 
    FROM professions 
    WHERE profession_id = 
        (SELECT professions_profession_id 
        FROM employees 
        WHERE employee_id = :new.employees_employee_id);

    IF :new.employees_employee_id IS NULL THEN
        :new.employees_employee_id := v_assistant;
    ELSIF v_profession NOT LIKE 'assistant' THEN 
        :new.employees_employee_id := v_assistant;
    END IF;
END;
/
ALTER TRIGGER "Z08"."T_NEW_CLIENT_ASSISTANT" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_TRANS_HISTORY
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_TRANS_HISTORY" 
BEFORE INSERT ON transaction_history
FOR EACH ROW
DECLARE
    v_type_name transaction_type.type_name%TYPE;
    v_transfer_in_id transaction_type.transaction_type_id%TYPE;
BEGIN
    SELECT TYPE_NAME INTO v_type_name
    FROM transaction_type 
    WHERE transaction_type_id = :new.transaction_type_type_id;
    SELECT TRANSACTION_TYPE_ID INTO v_transfer_in_id
    FROM transaction_type
    WHERE type_name like 'transfer_in';
    IF v_type_name like 'transfer_out' THEN
        UPDATE SERVICES_INFO SET BALANCE = BALANCE + :new.AMOUNT 
        WHERE SERVICE_INFO_ID = 
            (SELECT SERVICE_INFO_ID 
            FROM BANK_ACCOUNTS 
            WHERE BANK_ACCOUNT_ID = :new.TARGET_ACC_NO);
		-- Ta sekwencja podana jako value jest sekwencja generowana przez system, jej nazwa moze byc rozna w zaleznosci id importu
        INSERT INTO TRANSACTION_HISTORY (TRANSACTION_ID, AMOUNT, "Date", BANK_ACCOUNT_ID, TRANSACTION_TYPE_TYPE_ID, TARGET_ACC_NO)
        VALUES ("Z08"."ISEQ$$_269025".nextval -1, :new.amount, :new."Date", :new.target_acc_no, v_transfer_in_id, :new.bank_account_id); 
        :new.transaction_id := :new.transaction_id + 1;
    END IF;
END;
/
ALTER TRIGGER "Z08"."T_TRANS_HISTORY" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_NEW_CLIENT_ASSISTANT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_NEW_CLIENT_ASSISTANT" 
BEFORE INSERT ON CLIENTS
FOR EACH ROW
DECLARE 
    v_assistant CLIENTS.EMPLOYEES_EMPLOYEE_ID%TYPE;
    v_profession PROFESSIONS.NAME%TYPE;
BEGIN
    SELECT employee_id INTO v_assistant 
    FROM v_needs_work;
    SELECT name INTO v_profession 
    FROM professions 
    WHERE profession_id = 
        (SELECT professions_profession_id 
        FROM employees 
        WHERE employee_id = :new.employees_employee_id);

    IF :new.employees_employee_id IS NULL THEN
        :new.employees_employee_id := v_assistant;
    ELSIF v_profession NOT LIKE 'assistant' THEN 
        :new.employees_employee_id := v_assistant;
    END IF;
END;
/
ALTER TRIGGER "Z08"."T_NEW_CLIENT_ASSISTANT" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_CHECK_SALARY
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_CHECK_SALARY" 
BEFORE INSERT OR UPDATE OF SALARY ON EMPLOYEES 
FOR EACH ROW
DECLARE 
    v_min_sal professions.min_salary%TYPE;
    v_max_sal professions.max_salary%TYPE;
BEGIN 
    SELECT min_salary, max_salary INTO v_min_sal, v_max_sal
    FROM professions WHERE profession_id = :new.professions_profession_id;

    IF :new.salary NOT BETWEEN v_min_sal AND v_max_sal THEN
        dbms_output.put_line('Zarobki pracownika spoza zakresu p≈Çac: ' || v_min_sal || ' ' || v_max_sal);
        raise_application_error(-20001, 'Przekroczony zakres p≈Çac');
    END IF;
END;
/
ALTER TRIGGER "Z08"."T_CHECK_SALARY" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_EMPLOYEES_NO_D
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_EMPLOYEES_NO_D" 
AFTER DELETE ON EMPLOYEES
FOR EACH ROW
BEGIN 
    UPDATE bank_branches 
    SET employees_no = employees_no + 1
    WHERE bank_branch_id = :old.branch_id;
END;
/
ALTER TRIGGER "Z08"."T_EMPLOYEES_NO_D" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_EMPLOYEES_NO_I
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_EMPLOYEES_NO_I" 
AFTER INSERT ON EMPLOYEES
FOR EACH ROW
BEGIN 
    UPDATE bank_branches 
    SET employees_no = employees_no + 1
    WHERE bank_branch_id = :new.branch_id;
END;
/
ALTER TRIGGER "Z08"."T_EMPLOYEES_NO_I" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_DEF_LOAN_END_DATE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_DEF_LOAN_END_DATE" 
BEFORE INSERT OR UPDATE OF END_DATE ON LOANS
FOR EACH ROW
DECLARE
    v_date DATE;
BEGIN
    SELECT add_months(CURRENT_DATE,12)INTO v_date 
    FROM dual;

    IF :new.end_date IS NULL THEN
        :new.end_date := v_date;
    ELSIF :new.end_date < CURRENT_DATE THEN 
        :new.end_date := v_date;
    END IF;
END;

/
ALTER TRIGGER "Z08"."T_DEF_LOAN_END_DATE" ENABLE;
--------------------------------------------------------
--  DDL for Trigger T_TRANS_HISTORY
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "Z08"."T_TRANS_HISTORY" 
BEFORE INSERT ON transaction_history
FOR EACH ROW
DECLARE
    v_type_name transaction_type.type_name%TYPE;
    v_transfer_in_id transaction_type.transaction_type_id%TYPE;
BEGIN
    SELECT TYPE_NAME INTO v_type_name
    FROM transaction_type 
    WHERE transaction_type_id = :new.transaction_type_type_id;
    SELECT TRANSACTION_TYPE_ID INTO v_transfer_in_id
    FROM transaction_type
    WHERE type_name like 'transfer_in';
    IF v_type_name like 'transfer_out' THEN
        UPDATE SERVICES_INFO SET BALANCE = BALANCE + :new.AMOUNT 
        WHERE SERVICE_INFO_ID = 
            (SELECT SERVICE_INFO_ID 
            FROM BANK_ACCOUNTS 
            WHERE BANK_ACCOUNT_ID = :new.TARGET_ACC_NO);
        INSERT INTO TRANSACTION_HISTORY (TRANSACTION_ID, AMOUNT, "Date", BANK_ACCOUNT_ID, TRANSACTION_TYPE_TYPE_ID, TARGET_ACC_NO)
        VALUES ("Z08"."ISEQ$$_269025".nextval -1, :new.amount, :new."Date", :new.target_acc_no, v_transfer_in_id, :new.bank_account_id);
        :new.transaction_id := :new.transaction_id + 1;
    END IF;
END;
/
ALTER TRIGGER "Z08"."T_TRANS_HISTORY" ENABLE;
--------------------------------------------------------
--  DDL for Procedure P_ALTER_CURRENCIES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "Z08"."P_ALTER_CURRENCIES" (
    p_usd in NUMBER, 
    p_eur in NUMBER,  
    p_chf in NUMBER,  
    p_gbp in NUMBER,
    p_czk in NUMBER,
    p_rub in NUMBER,  
    p_try in NUMBER, 
    p_cny in NUMBER, 
    p_sek in NUMBER
)
IS
BEGIN
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_usd WHERE ABBREVIATION like 'USD';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_eur WHERE ABBREVIATION like 'EUR';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_chf WHERE ABBREVIATION like 'CHF';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_gbp WHERE ABBREVIATION like 'GBP';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_czk WHERE ABBREVIATION like 'CZK';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_rub WHERE ABBREVIATION like 'RUB';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_try WHERE ABBREVIATION like 'TRY';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_cny WHERE ABBREVIATION like 'CNY';
    UPDATE CURRENCIES SET EXCHANGE_RATE = p_sek WHERE ABBREVIATION like 'SEK';
END;

/
--------------------------------------------------------
--  DDL for Procedure P_CONVERT_CURRENCY
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "Z08"."P_CONVERT_CURRENCY" (p_service_info_id NUMBER, p_new_currency_id NUMBER)
AS
    v_balance            NUMBER;
    v_new_balance        NUMBER;
    v_exchange_rate      NUMBER;
    v_new_exchange_rate  NUMBER;
BEGIN
    SELECT BALANCE INTO v_balance 
    FROM SERVICES_INFO
    WHERE SERVICE_INFO_ID = p_service_info_id;
    SELECT EXCHANGE_RATE INTO v_exchange_rate 
    FROM CURRENCIES 
    WHERE CURRENCY_ID = (
        SELECT CURRENCY_ID 
        FROM SERVICES_INFO
        WHERE SERVICE_INFO_ID = p_service_info_id);
    SELECT EXCHANGE_RATE INTO v_new_exchange_rate
    FROM CURRENCIES 
    WHERE CURRENCY_ID = p_new_currency_id;

    v_new_balance := f_convert_acc_currency(v_balance, v_exchange_rate, v_new_exchange_rate);

    UPDATE SERVICES_INFO 
    SET BALANCE = v_new_balance, CURRENCY_ID = p_new_currency_id
    WHERE SERVICE_INFO_ID = p_service_info_id;

END;

/
--------------------------------------------------------
--  DDL for Function F_CONVERT_ACC_CURRENCY
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "Z08"."F_CONVERT_ACC_CURRENCY" (p_amount NUMBER, p_exchange_rate NUMBER, p_new_exchange_rate NUMBER)
RETURN NUMBER
AS
    v_new_amount NUMBER;
BEGIN
    v_new_amount := p_amount * p_exchange_rate;
    v_new_amount := v_new_amount / p_new_exchange_rate;

    RETURN v_new_amount;
END;

/
--------------------------------------------------------
--  DDL for Function F_LAST_TRANSACT_VAL
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "Z08"."F_LAST_TRANSACT_VAL" (p_client_id VARCHAR2)
RETURN NUMBER
AS
    last_paym_am   transaction_history.amount%TYPE;
BEGIN
    SELECT amount INTO last_paym_am 
    FROM transaction_history JOIN bank_accounts USING(bank_account_id) 
    JOIN services_info USING(service_info_id)
    WHERE client_id=p_client_id
    ORDER BY ("Date") desc FETCH FIRST 1 ROWS ONLY;

    RETURN last_paym_am;
END;

/
--------------------------------------------------------
--  DDL for Function F_NEXT_INSTALLMENT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "Z08"."F_NEXT_INSTALLMENT" (p_loan_id NUMBER)
RETURN DATE
AS
    v_date   v_loans.START_DATE%TYPE; 
BEGIN
    SELECT START_DATE INTO v_date FROM v_loans WHERE loan_id = p_loan_id;
    WHILE v_date < CURRENT_DATE LOOP
        v_date := add_months(v_date, 1);
    END LOOP;
    RETURN v_date;
END;

/
--------------------------------------------------------
--  DDL for Function F_YEAR_INSTALLMENTS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "Z08"."F_YEAR_INSTALLMENTS" (p_loan_id NUMBER)
RETURN NUMBER
AS
    v_flag          BOOLEAN := TRUE;
    v_install_sum   v_loans.installment%TYPE := 0;
    v_install       v_loans.installment%TYPE;
    v_date          v_loans.START_DATE%TYPE := f_next_installment(p_loan_id);
    v_balance       v_loans.BALANCE%TYPE;
    v_new_year      v_loans.START_DATE%TYPE  := ROUND(add_months(CURRENT_DATE, 6), 'YEAR');
BEGIN
    SELECT installment INTO v_install FROM v_loans WHERE loan_id = p_loan_id;
    SELECT balance INTO v_balance FROM v_loans WHERE loan_id = p_loan_id;
    WHILE v_date < v_new_year AND v_flag LOOP
        IF v_install_sum + v_install > v_balance THEN
            v_flag := FALSE;
            v_install_sum := v_balance;
        ELSE 
            v_install_sum := v_install + v_install_sum;
        END IF;
        v_date := add_months(v_date,1);
    END LOOP;
    
    RETURN v_install_sum;
END;

/
--------------------------------------------------------
--  Constraints for Table ACCOUNT_TYPES
--------------------------------------------------------

  ALTER TABLE "Z08"."ACCOUNT_TYPES" ADD CONSTRAINT "ACCOUNT_TYPES_PK" PRIMARY KEY ("ACCOUNT_TYPE_ID")
  USING INDEX "Z08"."ACCOUNT_TYPES_PK"  ENABLE;
  ALTER TABLE "Z08"."ACCOUNT_TYPES" MODIFY ("ACCOUNT_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."ACCOUNT_TYPES" MODIFY ("NAME" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ADDRESSES
--------------------------------------------------------

  ALTER TABLE "Z08"."ADDRESSES" ADD CONSTRAINT "ADDRESSES_PK" PRIMARY KEY ("ADDRESS_ID")
  USING INDEX "Z08"."ADDRESSES_PK"  ENABLE;
  ALTER TABLE "Z08"."ADDRESSES" MODIFY ("ADDRESS_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."ADDRESSES" MODIFY ("STREET" NOT NULL ENABLE);
  ALTER TABLE "Z08"."ADDRESSES" MODIFY ("APARTMENT_NO" NOT NULL ENABLE);
  ALTER TABLE "Z08"."ADDRESSES" MODIFY ("CITIES_CITY_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table BANK_ACCOUNTS
--------------------------------------------------------

  ALTER TABLE "Z08"."BANK_ACCOUNTS" ADD CONSTRAINT "BANK_ACCOUNTS_PK" PRIMARY KEY ("BANK_ACCOUNT_ID")
  USING INDEX "Z08"."BANK_ACCOUNTS_PK"  ENABLE;
  ALTER TABLE "Z08"."BANK_ACCOUNTS" MODIFY ("BANK_ACCOUNT_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."BANK_ACCOUNTS" MODIFY ("ACCOUNT_TYPES_TYPE_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table BANK_BRANCHES
--------------------------------------------------------

  ALTER TABLE "Z08"."BANK_BRANCHES" ADD CONSTRAINT "BANK_BRANCHES_PK" PRIMARY KEY ("BANK_BRANCH_ID")
  USING INDEX "Z08"."BANK_BRANCHES_PK"  ENABLE;
  ALTER TABLE "Z08"."BANK_BRANCHES" MODIFY ("BANK_BRANCH_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."BANK_BRANCHES" MODIFY ("EMPLOYEES_NO" NOT NULL ENABLE);
  ALTER TABLE "Z08"."BANK_BRANCHES" MODIFY ("ADDRESSES_ADDRESS_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."BANK_BRANCHES" MODIFY ("OPENING_HOURS_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CARDS
--------------------------------------------------------

  ALTER TABLE "Z08"."CARDS" ADD CONSTRAINT "CARDS_PK" PRIMARY KEY ("CARD_ID")
  USING INDEX "Z08"."CARDS_PK"  ENABLE;
  ALTER TABLE "Z08"."CARDS" MODIFY ("CARD_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CARDS" MODIFY ("EXPIRATION_DATE" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CARDS" MODIFY ("HASHED_CCV" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CARDS" MODIFY ("HASHED_PIN" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CARDS" MODIFY ("CARD_TYPES_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CARDS" MODIFY ("BANK_ACCOUNTS_ACCOUNT_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CARD_TYPES
--------------------------------------------------------

  ALTER TABLE "Z08"."CARD_TYPES" ADD CONSTRAINT "CARD_TYPES_PK" PRIMARY KEY ("CARD_TYPE_ID")
  USING INDEX "Z08"."CARD_TYPES_PK"  ENABLE;
  ALTER TABLE "Z08"."CARD_TYPES" MODIFY ("CARD_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CARD_TYPES" MODIFY ("TYPE_NAME" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CITIES
--------------------------------------------------------

  ALTER TABLE "Z08"."CITIES" ADD CONSTRAINT "CITIES_PK" PRIMARY KEY ("CITY_ID")
  USING INDEX "Z08"."CITIES_PK"  ENABLE;
  ALTER TABLE "Z08"."CITIES" MODIFY ("CITY_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CITIES" MODIFY ("CITY_NAME" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CLIENTS
--------------------------------------------------------

  ALTER TABLE "Z08"."CLIENTS" ADD CONSTRAINT "CLIENTS_PK" PRIMARY KEY ("CLIENT_ID")
  USING INDEX "Z08"."CLIENTS_PK"  ENABLE;
  ALTER TABLE "Z08"."CLIENTS" MODIFY ("CLIENT_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CLIENTS" MODIFY ("PERSONAL_DATA_DATA_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CLIENTS" MODIFY ("EMPLOYEES_EMPLOYEE_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CURRENCIES
--------------------------------------------------------

  ALTER TABLE "Z08"."CURRENCIES" ADD CONSTRAINT "CHECK_CURRENCY" CHECK (EXCHANGE_RATE > 0) ENABLE;
  ALTER TABLE "Z08"."CURRENCIES" ADD CONSTRAINT "CURRENCIES_PK" PRIMARY KEY ("CURRENCY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 16384 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "II_DATA"  ENABLE;
  ALTER TABLE "Z08"."CURRENCIES" MODIFY ("CURRENCY_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CURRENCIES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CURRENCIES" MODIFY ("ABBREVIATION" NOT NULL ENABLE);
  ALTER TABLE "Z08"."CURRENCIES" MODIFY ("EXCHANGE_RATE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table EMPLOYEES
--------------------------------------------------------

  ALTER TABLE "Z08"."EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_PK" PRIMARY KEY ("EMPLOYEE_ID")
  USING INDEX "Z08"."EMPLOYEES_PK"  ENABLE;
  ALTER TABLE "Z08"."EMPLOYEES" MODIFY ("EMPLOYEE_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."EMPLOYEES" MODIFY ("SALARY" NOT NULL ENABLE);
  ALTER TABLE "Z08"."EMPLOYEES" MODIFY ("PROFESSIONS_PROFESSION_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."EMPLOYEES" MODIFY ("PERSONAL_DATA_DATA_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table LOANS
--------------------------------------------------------

  ALTER TABLE "Z08"."LOANS" ADD CONSTRAINT "LOANS_PK" PRIMARY KEY ("LOAN_ID")
  USING INDEX "Z08"."LOANS_PK"  ENABLE;
  ALTER TABLE "Z08"."LOANS" MODIFY ("LOAN_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."LOANS" MODIFY ("END_DATE" NOT NULL ENABLE);
  ALTER TABLE "Z08"."LOANS" MODIFY ("INSTALLMENT" NOT NULL ENABLE);
  ALTER TABLE "Z08"."LOANS" MODIFY ("INITIAL_VALUE" NOT NULL ENABLE);
  ALTER TABLE "Z08"."LOANS" MODIFY ("SERVICE_INFO_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table OPENING_HOURS
--------------------------------------------------------

  ALTER TABLE "Z08"."OPENING_HOURS" ADD CONSTRAINT "OPENING_HOURS_PK" PRIMARY KEY ("OPENING_HOURS_ID")
  USING INDEX "Z08"."OPENING_HOURS_PK"  ENABLE;
  ALTER TABLE "Z08"."OPENING_HOURS" MODIFY ("OPENING_HOURS_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PAYMENT_HISTORY
--------------------------------------------------------

  ALTER TABLE "Z08"."PAYMENT_HISTORY" ADD CONSTRAINT "PAYMENT_HISTORY_PK" PRIMARY KEY ("PAYMENT_ID")
  USING INDEX "Z08"."PAYMENT_HISTORY_PK"  ENABLE;
  ALTER TABLE "Z08"."PAYMENT_HISTORY" MODIFY ("PAYMENT_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PAYMENT_HISTORY" MODIFY ("AMOUNT" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PAYMENT_HISTORY" MODIFY ("PAYMENT_DATE" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PAYMENT_HISTORY" MODIFY ("LOAN_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PAYMENT_HISTORY" ADD CHECK (AMOUNT>0) ENABLE;
--------------------------------------------------------
--  Constraints for Table PERSONAL_DATA
--------------------------------------------------------

  ALTER TABLE "Z08"."PERSONAL_DATA" ADD CONSTRAINT "PERSONAL_DATA_PK" PRIMARY KEY ("PERSONAL_DATA_ID")
  USING INDEX "Z08"."PERSONAL_DATA_PK"  ENABLE;
  ALTER TABLE "Z08"."PERSONAL_DATA" MODIFY ("PERSONAL_DATA_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PERSONAL_DATA" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PERSONAL_DATA" MODIFY ("SURNAME" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PERSONAL_DATA" MODIFY ("PESEL" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PERSONAL_DATA" MODIFY ("PHONE_NO" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PERSONAL_DATA" MODIFY ("HASHED_PSWD" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PERSONAL_DATA" MODIFY ("ADDRESSES_ADDRESS_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PROFESSIONS
--------------------------------------------------------

  ALTER TABLE "Z08"."PROFESSIONS" ADD CONSTRAINT "PROFESSIONS_PK" PRIMARY KEY ("PROFESSION_ID")
  USING INDEX "Z08"."PROFESSIONS_PK"  ENABLE;
  ALTER TABLE "Z08"."PROFESSIONS" MODIFY ("PROFESSION_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PROFESSIONS" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PROFESSIONS" MODIFY ("MIN_SALARY" NOT NULL ENABLE);
  ALTER TABLE "Z08"."PROFESSIONS" MODIFY ("MAX_SALARY" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SERVICES_INFO
--------------------------------------------------------

  ALTER TABLE "Z08"."SERVICES_INFO" ADD CONSTRAINT "SERVICES_INFO_PK" PRIMARY KEY ("SERVICE_INFO_ID")
  USING INDEX "Z08"."SERVICES_INFO_PK"  ENABLE;
  ALTER TABLE "Z08"."SERVICES_INFO" MODIFY ("SERVICE_INFO_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."SERVICES_INFO" MODIFY ("BALANCE" NOT NULL ENABLE);
  ALTER TABLE "Z08"."SERVICES_INFO" MODIFY ("START_DATE" NOT NULL ENABLE);
  ALTER TABLE "Z08"."SERVICES_INFO" MODIFY ("ACCUM_PERIOD" NOT NULL ENABLE);
  ALTER TABLE "Z08"."SERVICES_INFO" MODIFY ("INTEREST" NOT NULL ENABLE);
  ALTER TABLE "Z08"."SERVICES_INFO" MODIFY ("CLIENT_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."SERVICES_INFO" MODIFY ("CURRENCY_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TRANSACTION_HISTORY
--------------------------------------------------------

  ALTER TABLE "Z08"."TRANSACTION_HISTORY" MODIFY ("TRANSACTION_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."TRANSACTION_HISTORY" MODIFY ("AMOUNT" NOT NULL ENABLE);
  ALTER TABLE "Z08"."TRANSACTION_HISTORY" MODIFY ("Date" NOT NULL ENABLE);
  ALTER TABLE "Z08"."TRANSACTION_HISTORY" MODIFY ("BANK_ACCOUNT_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."TRANSACTION_HISTORY" MODIFY ("TRANSACTION_TYPE_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."TRANSACTION_HISTORY" ADD CONSTRAINT "TRANSACTION_HISTORY_PK" PRIMARY KEY ("TRANSACTION_ID")
  USING INDEX "Z08"."TRANSACTION_HISTORY_PK"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TRANSACTION_TYPE
--------------------------------------------------------

  ALTER TABLE "Z08"."TRANSACTION_TYPE" MODIFY ("TRANSACTION_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "Z08"."TRANSACTION_TYPE" MODIFY ("TYPE_NAME" NOT NULL ENABLE);
  ALTER TABLE "Z08"."TRANSACTION_TYPE" ADD CONSTRAINT "TRANSACTION_TYPE_PK" PRIMARY KEY ("TRANSACTION_TYPE_ID")
  USING INDEX "Z08"."TRANSACTION_TYPE_PK"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ADDRESSES
--------------------------------------------------------

  ALTER TABLE "Z08"."ADDRESSES" ADD CONSTRAINT "ADDRESSES_CITIES_FK" FOREIGN KEY ("CITIES_CITY_ID")
	  REFERENCES "Z08"."CITIES" ("CITY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table BANK_ACCOUNTS
--------------------------------------------------------

  ALTER TABLE "Z08"."BANK_ACCOUNTS" ADD CONSTRAINT "BANK_ACCOUNTS_ACCOUNT_TYPES_FK" FOREIGN KEY ("ACCOUNT_TYPES_TYPE_ID")
	  REFERENCES "Z08"."ACCOUNT_TYPES" ("ACCOUNT_TYPE_ID") ENABLE;
  ALTER TABLE "Z08"."BANK_ACCOUNTS" ADD CONSTRAINT "BANK_ACCOUNTS_SID_FK" FOREIGN KEY ("SERVICE_INFO_ID")
	  REFERENCES "Z08"."SERVICES_INFO" ("SERVICE_INFO_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table BANK_BRANCHES
--------------------------------------------------------

  ALTER TABLE "Z08"."BANK_BRANCHES" ADD CONSTRAINT "BANK_BRANCHES_ADDRESSES_FK" FOREIGN KEY ("ADDRESSES_ADDRESS_ID")
	  REFERENCES "Z08"."ADDRESSES" ("ADDRESS_ID") ENABLE;
  ALTER TABLE "Z08"."BANK_BRANCHES" ADD CONSTRAINT "BANK_BRANCHES_OPENING_HOURS_FK" FOREIGN KEY ("OPENING_HOURS_ID")
	  REFERENCES "Z08"."OPENING_HOURS" ("OPENING_HOURS_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CARDS
--------------------------------------------------------

  ALTER TABLE "Z08"."CARDS" ADD CONSTRAINT "CARDS_BANK_ACCOUNTS_FK" FOREIGN KEY ("BANK_ACCOUNTS_ACCOUNT_ID")
	  REFERENCES "Z08"."BANK_ACCOUNTS" ("BANK_ACCOUNT_ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "Z08"."CARDS" ADD CONSTRAINT "CARDS_CARD_TYPES_FK" FOREIGN KEY ("CARD_TYPES_TYPE_ID")
	  REFERENCES "Z08"."CARD_TYPES" ("CARD_TYPE_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CLIENTS
--------------------------------------------------------

  ALTER TABLE "Z08"."CLIENTS" ADD CONSTRAINT "CLIENTS_EMPLOYEES_FK" FOREIGN KEY ("EMPLOYEES_EMPLOYEE_ID")
	  REFERENCES "Z08"."EMPLOYEES" ("EMPLOYEE_ID") ENABLE;
  ALTER TABLE "Z08"."CLIENTS" ADD CONSTRAINT "CLIENTS_PERSONAL_DATA_FK" FOREIGN KEY ("PERSONAL_DATA_DATA_ID")
	  REFERENCES "Z08"."PERSONAL_DATA" ("PERSONAL_DATA_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EMPLOYEES
--------------------------------------------------------

  ALTER TABLE "Z08"."EMPLOYEES" ADD CONSTRAINT "BRANCH_ID_FK" FOREIGN KEY ("BRANCH_ID")
	  REFERENCES "Z08"."BANK_BRANCHES" ("BANK_BRANCH_ID") ENABLE;
  ALTER TABLE "Z08"."EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_PERSONAL_DATA_FK" FOREIGN KEY ("PERSONAL_DATA_DATA_ID")
	  REFERENCES "Z08"."PERSONAL_DATA" ("PERSONAL_DATA_ID") ENABLE;
  ALTER TABLE "Z08"."EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_PROFESSIONS_FK" FOREIGN KEY ("PROFESSIONS_PROFESSION_ID")
	  REFERENCES "Z08"."PROFESSIONS" ("PROFESSION_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table LOANS
--------------------------------------------------------

  ALTER TABLE "Z08"."LOANS" ADD CONSTRAINT "LOANS_SID_FK" FOREIGN KEY ("SERVICE_INFO_ID")
	  REFERENCES "Z08"."SERVICES_INFO" ("SERVICE_INFO_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PAYMENT_HISTORY
--------------------------------------------------------

  ALTER TABLE "Z08"."PAYMENT_HISTORY" ADD CONSTRAINT "PAYMENT_HISTORY_LOAN_ID_FK" FOREIGN KEY ("LOAN_ID")
	  REFERENCES "Z08"."LOANS" ("LOAN_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PERSONAL_DATA
--------------------------------------------------------

  ALTER TABLE "Z08"."PERSONAL_DATA" ADD CONSTRAINT "PERSONAL_DATA_ADDRESSES_FK" FOREIGN KEY ("ADDRESSES_ADDRESS_ID")
	  REFERENCES "Z08"."ADDRESSES" ("ADDRESS_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SERVICES_INFO
--------------------------------------------------------

  ALTER TABLE "Z08"."SERVICES_INFO" ADD CONSTRAINT "CLIENTS_CLIENT_ID_FK" FOREIGN KEY ("CLIENT_ID")
	  REFERENCES "Z08"."CLIENTS" ("CLIENT_ID") ENABLE;
  ALTER TABLE "Z08"."SERVICES_INFO" ADD CONSTRAINT "SERVICES_CURRENCY_FK" FOREIGN KEY ("CURRENCY_ID")
	  REFERENCES "Z08"."CURRENCIES" ("CURRENCY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TRANSACTION_HISTORY
--------------------------------------------------------

  ALTER TABLE "Z08"."TRANSACTION_HISTORY" ADD CONSTRAINT "TRANS_HIST_BANK_ACCOUNTS_FK" FOREIGN KEY ("BANK_ACCOUNT_ID")
	  REFERENCES "Z08"."BANK_ACCOUNTS" ("BANK_ACCOUNT_ID") ENABLE;
  ALTER TABLE "Z08"."TRANSACTION_HISTORY" ADD CONSTRAINT "TRANS_HIST_TRANSACTION_TYPE_FK" FOREIGN KEY ("TRANSACTION_TYPE_TYPE_ID")
	  REFERENCES "Z08"."TRANSACTION_TYPE" ("TRANSACTION_TYPE_ID") ON DELETE CASCADE ENABLE;
